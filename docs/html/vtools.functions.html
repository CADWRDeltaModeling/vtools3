
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>vtools.functions package &#8212; vtools 3.0.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Contributing" href="contributing.html" />
    <link rel="prev" title="vtools.datastore package" href="vtools.datastore.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="vtools.datastore.html" title="vtools.datastore package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">vtools 3.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">vtools</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="vtools-functions-package">
<h1>vtools.functions package<a class="headerlink" href="#vtools-functions-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="vtools-functions-error-detect-module">
<h2>vtools.functions.error_detect module<a class="headerlink" href="#vtools-functions-error-detect-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-vtools.functions.example">
<span id="vtools-functions-example-module"></span><h2>vtools.functions.example module<a class="headerlink" href="#module-vtools.functions.example" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="vtools.functions.example.gap_size">
<code class="sig-name descname">gap_size</code><span class="sig-paren">(</span><em class="sig-param">ts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/example.html#gap_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.example.gap_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="vtools.functions.example.main">
<code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/example.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.example.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="vtools.functions.example.main1">
<code class="sig-name descname">main1</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/example.html#main1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.example.main1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="vtools.functions.example.main2">
<code class="sig-name descname">main2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/example.html#main2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.example.main2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-vtools.functions.example2">
<span id="vtools-functions-example2-module"></span><h2>vtools.functions.example2 module<a class="headerlink" href="#module-vtools.functions.example2" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="vtools.functions.example2.main">
<code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/example2.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.example2.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-vtools.functions.filter">
<span id="vtools-functions-filter-module"></span><h2>vtools.functions.filter module<a class="headerlink" href="#module-vtools.functions.filter" title="Permalink to this headline">¶</a></h2>
<p>Module contains filter used in tidal time series analysis.</p>
<dl class="function">
<dt id="vtools.functions.filter.butterworth">
<code class="sig-name descname">butterworth</code><span class="sig-paren">(</span><em class="sig-param">ts</em>, <em class="sig-param">cutoff_period=None</em>, <em class="sig-param">cutoff_frequency=None</em>, <em class="sig-param">order=4</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#butterworth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.butterworth" title="Permalink to this definition">¶</a></dt>
<dd><p>low-pass butterworth-squared filter on a regular time series.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ts</strong><span class="classifier">Pandas series or DataFrame, or xarray object</span></dt><dd><p>Must be one or two dimensional, and regular.</p>
</dd>
<dt><strong>order: int ,optional</strong></dt><dd><p>The default is 4.</p>
</dd>
<dt><strong>cutoff_frequency: float,optional</strong></dt><dd><p>Cutoff frequency expressed as a ratio with Nyquist frequency,
should within the range (0,1). For a discretely sampled system,
the Nyquist frequency is the fastest frequency that can be resolved by that 
sampling, which is half the sampling frequency. For example, if the sampling frequency
is 1 sample/1 hour, the Nyquist frequency is 1 sample/2 hours. If we want a
36 hour cutoff period, the frequency is 1/36 or 0.0278 cycles per hour. 
Hence the cutoff frequency argument used here would be
0.0278/0.5 = 0.056.</p>
</dd>
<dt><strong>cutoff_period</strong><span class="classifier">string  or  <span class="xref std std-ref">time_interval</span></span></dt><dd><p>Period corresponding to cutoff frequency. If input as a string, it must 
be  convertible to a regular interval using the same rules as a pandas frequency..
cutoff_frequency and cutoff_period can’t be specified at the same time.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>result :</dt><dd><p>A new regular time series with the same interval as ts.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.filter.cosine_lanczos">
<code class="sig-name descname">cosine_lanczos</code><span class="sig-paren">(</span><em class="sig-param">ts</em>, <em class="sig-param">cutoff_period=None</em>, <em class="sig-param">cutoff_frequency=None</em>, <em class="sig-param">filter_len=None</em>, <em class="sig-param">padtype=None</em>, <em class="sig-param">padlen=None</em>, <em class="sig-param">fill_edge_nan=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#cosine_lanczos"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.cosine_lanczos" title="Permalink to this definition">¶</a></dt>
<dd><p>squared low-pass cosine lanczos  filter on a regular time series.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ts</strong><span class="classifier">Pandas or XArray time series</span></dt><dd></dd>
<dt><strong>filter_len</strong><span class="classifier">int, time_interval</span></dt><dd><p>Size of lanczos window, default is to number of samples within filter_period*1.25.</p>
</dd>
<dt><strong>cutoff_frequency: float,optional</strong></dt><dd><p>Cutoff frequency expressed as a ratio of a Nyquist frequency,
should within the range (0,1). For example, if the sampling frequency
is 1 hour, the Nyquist frequency is 1 sample/2 hours. If we want a
36 hour cutoff period, the frequency is 1/36 or 0.0278 cycles per hour. 
Hence the cutoff frequency argument used here would be
0.0278/0.5 = 0.056.</p>
</dd>
<dt><strong>cutoff_period</strong><span class="classifier">string  or  <span class="xref std std-ref">time_interval</span></span></dt><dd><blockquote>
<div><p>Period of cutting off frequency. If input as a string, it must 
be  convertible to <span class="xref std std-ref">Time interval</span>.
cutoff_frequency and cutoff_period can’t be specified at the same time.</p>
</div></blockquote>
<dl class="simple">
<dt>padtype<span class="classifier">str or None, optional</span></dt><dd><p>Must be ‘odd’, ‘even’, ‘constant’, or None. This determines the type
of extension to use for the padded signal to which the filter is applied. 
If padtype is None, no padding is used. The default is None.</p>
</dd>
<dt>padlen<span class="classifier">int or None, optional</span></dt><dd><p>The number of elements by which to extend x at both ends of axis 
before applying the filter. This value must be less than x.shape[axis]-1. 
padlen=0 implies no padding. If padtye is not None and padlen is not
given, padlen is be set to 6*m.</p>
</dd>
<dt>fill_edge_nan: bool,optional</dt><dd><p>If pading is not used and fill_edge_nan is true, resulting data on 
the both ends are filled with nan to account for edge effect. This is
2*m on the either end of the result. Default is true.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></span></dt><dd><p>A new regular time series with the same interval of ts. If no pading 
is used the beigning and ending 4*m resulting data will be set to nan
to remove edge effect.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.filter.generate_godin_fir">
<code class="sig-name descname">generate_godin_fir</code><span class="sig-paren">(</span><em class="sig-param">timeinterval</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#generate_godin_fir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.generate_godin_fir" title="Permalink to this definition">¶</a></dt>
<dd><p>generate godin filter impulse response for given timeinterval
timeinterval could be anything that pd.Timedelta can accept</p>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.filter.godin_filter">
<code class="sig-name descname">godin_filter</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">timeinterval='15min'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#godin_filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.godin_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses FIR filter and convolves with the data frame values
return godin filtered values for data frame values</p>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.filter.lowpass_cosine_lanczos_filter_coef">
<code class="sig-name descname">lowpass_cosine_lanczos_filter_coef</code><span class="sig-paren">(</span><em class="sig-param">cf</em>, <em class="sig-param">m</em>, <em class="sig-param">normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#lowpass_cosine_lanczos_filter_coef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.lowpass_cosine_lanczos_filter_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>return the convolution coefficients for low pass lanczos filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>Cf: float</strong></dt><dd><p>Cutoff frequency expressed as a ratio of a Nyquist frequency.</p>
</dd>
<dt><strong>M: int</strong></dt><dd><p>Size of filtering window size.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt>pdb.set_trace()</dt><dd></dd>
<dt>Results: list</dt><dd><p>Coefficients of filtering window.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.filter.process_cutoff">
<code class="sig-name descname">process_cutoff</code><span class="sig-paren">(</span><em class="sig-param">cutoff_frequency</em>, <em class="sig-param">cutoff_period</em>, <em class="sig-param">freq</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/filter.html#process_cutoff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.filter.process_cutoff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="vtools-functions-interpolate-module">
<h2>vtools.functions.interpolate module<a class="headerlink" href="#vtools-functions-interpolate-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-vtools.functions.merge">
<span id="vtools-functions-merge-module"></span><h2>vtools.functions.merge module<a class="headerlink" href="#module-vtools.functions.merge" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="vtools.functions.merge.ts_merge">
<code class="sig-name descname">ts_merge</code><span class="sig-paren">(</span><em class="sig-param">series</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/merge.html#ts_merge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.merge.ts_merge" title="Permalink to this definition">¶</a></dt>
<dd><p>merge a number of timeseries together and return a new ts.
Similar to concatenate, but provides more control over order in cases of overlap</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>series</strong><span class="classifier">tuple(time series)`</span></dt><dd><p>Series ranked from hight to low priority</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>merged</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeSeries</span></code></span></dt><dd><p>A new time series with time interval same as the inputs, time extent
the union of the inputs, and filled first with ts1, then with remaining
gaps filled with ts2, then ts3….</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="vtools-functions-mspline-module">
<h2>vtools.functions.mspline module<a class="headerlink" href="#vtools-functions-mspline-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="vtools-functions-period-op-module">
<h2>vtools.functions.period_op module<a class="headerlink" href="#vtools-functions-period-op-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="vtools-functions-regression-test-module">
<h2>vtools.functions.regression_test module<a class="headerlink" href="#vtools-functions-regression-test-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-vtools.functions.rhist">
<span id="vtools-functions-rhist-module"></span><h2>vtools.functions.rhist module<a class="headerlink" href="#module-vtools.functions.rhist" title="Permalink to this headline">¶</a></h2>
<p>Module for data interpolation using rational histosplines.
The main algorithm is a numpy re-implementation of rhist2 in</p>
<blockquote>
<div><p>One Dimensional Spline Interpolation Algorithms
by Helmuth Spath (1995).</p>
</div></blockquote>
<p>The benefit of histosplines is that they are designed to
conserve the integral under the curve, and so they are good
for period averaged data when you want the
interpolator to conserve mass.</p>
<dl class="function">
<dt id="vtools.functions.rhist.rhist">
<code class="sig-name descname">rhist</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">xnew</em>, <em class="sig-param">y0</em>, <em class="sig-param">yn</em>, <em class="sig-param">p</em>, <em class="sig-param">q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#rhist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.rhist" title="Permalink to this definition">¶</a></dt>
<dd><p>Histopline for arrays with tension.
Based by an algorithm rhist2 in 
One Dimensional Spline Interpolation Algorithms
by Helmuth Spath (1995).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">array-like</span></dt><dd><p>Abscissa array of original data,
of length n</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like, dimension (n-1)</span></dt><dd><p>Values (mantissa) of original data giving the rectangle (average) values between x[i] and x[i+1]</p>
</dd>
<dt><strong>xnew</strong><span class="classifier">array-like</span></dt><dd><p>Array of new locations at which to interpolate.</p>
</dd>
<dt><strong>y0,yn</strong><span class="classifier">float</span></dt><dd><p>Initial and terminal values</p>
</dd>
<dt><strong>p,q: array-like, dimension (n-1)</strong></dt><dd><p>Tension parameter, p and q are almost always the same. The higher p and q are for a particular x interval, the more rectangular the interpolant will look and the more 
positivity and shape preserving it is at the expense
of accuracy. For this routine any number p,q &gt; -1 is allowed, although the bound routine doesn’t use vals less
than zero.</p>
</dd>
<dt><strong>Returns</strong></dt><dd></dd>
<dt><strong>——-</strong></dt><dd></dd>
<dt><strong>ynew</strong><span class="classifier">array-like</span></dt><dd><p>Array that interpolates the original data.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.rhist.rhist_bound">
<code class="sig-name descname">rhist_bound</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">xnew</em>, <em class="sig-param">y0</em>, <em class="sig-param">yn</em>, <em class="sig-param">p</em>, <em class="sig-param">lbound=None</em>, <em class="sig-param">maxiter=5</em>, <em class="sig-param">pfactor=2</em>, <em class="sig-param">floor_eps=0.001</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#rhist_bound"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.rhist_bound" title="Permalink to this definition">¶</a></dt>
<dd><p>Numpy implementation of histospline with bounds
Histopline for arrays with lower bound enforcement.
This routine drives rhist() but tests that the output
array observes the lower bound and adapts the tension parameters as needed.</p>
<p>This will not work exactly if the input
array has values right on the lower bound. In this case,
the parameter floor_eps allows you to specify a tolerance
of bound violation to shoot for … and if it isn’t met in maxiter iterations the value is simply floored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>x</strong><span class="classifier">array-like</span></dt><dd><p>Abscissa array of original data to be interpolated,
of length n</p>
</dd>
<dt><strong>y</strong><span class="classifier">array-like, dimension (n-1)</span></dt><dd><p>Values (mantissa) of original data giving the rectangle (average) values between x[i] and x[i+1]</p>
</dd>
<dt><strong>xnew</strong><span class="classifier">array-like</span></dt><dd><p>Array of new locations at which to interpolate.</p>
</dd>
<dt><strong>y0,yn</strong><span class="classifier">float</span></dt><dd><p>Initial and terminal values</p>
</dd>
<dt><strong>p: float</strong></dt><dd><p>Tension parameter. This starts out as a global scalar, but will be converted to an array and adapted locally. 
The higher this goes for a particular x interval, the more rectangular the interpolant will look and the more 
positivity and shape preserving it is at the expense
of accuracy. A good number is 1, and for this routine,
p &gt; 0 is required because the adaptive process multiplies it by pfactor each iteration on the expectation that it will get bigger.</p>
</dd>
<dt><strong>lbound: float</strong></dt><dd><p>Lower bound to be enforced. If the original y’s are strictly above this value, the output has the potential to also be strictly above. If the original y’s lie on the lower bound, then the lower bound can only be enforced within a tolerance using the Spath algorithm …
and once the values reach that tolerance they are floored. If lbound = None, this function behaves like rhist()</p>
</dd>
<dt><strong>maxiter</strong><span class="classifier">integer</span></dt><dd><p>Number of times to increase p by multiplying it by pfactor before giving up on satisfying floor_eps.</p>
</dd>
<dt><strong>pfactor</strong><span class="classifier">float</span></dt><dd><p>Factor by which to multiply individual time step p</p>
</dd>
<dt><strong>floor_eps</strong><span class="classifier">float</span></dt><dd><p>Tolerance for lower bound violation at which the algorithm will be terminated and the bounds will be enforced by flooring.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>ynew</strong><span class="classifier">array-like</span></dt><dd><p>Array that interpolates the original data, on a curve that conserves mass and strictly observes the lower bound.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.rhist.rhist_coef">
<code class="sig-name descname">rhist_coef</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">y</em>, <em class="sig-param">y0</em>, <em class="sig-param">yn</em>, <em class="sig-param">p</em>, <em class="sig-param">q</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#rhist_coef"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.rhist_coef" title="Permalink to this definition">¶</a></dt>
<dd><p>Routine that produces coefficients for the histospline</p>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.rhist.rhist_val">
<code class="sig-name descname">rhist_val</code><span class="sig-paren">(</span><em class="sig-param">xnew</em>, <em class="sig-param">x</em>, <em class="sig-param">p</em>, <em class="sig-param">q</em>, <em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#rhist_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.rhist_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a histospline at new x points</p>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.rhist.rhistinterp">
<code class="sig-name descname">rhistinterp</code><span class="sig-paren">(</span><em class="sig-param">ts</em>, <em class="sig-param">dest</em>, <em class="sig-param">p</em>, <em class="sig-param">lowbound</em>, <em class="sig-param">tolbound=0.001</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#rhistinterp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.rhistinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolating a regular time series (rts) to a finer rts by rational histospline.</p>
<p>The rational histospline preserves area under the curve. This is a good choice of spline for period averaged data where an interpolant is desired
that is ‘conservative’. Note that it is the underlying continuous interpolant
that will be ‘conservative though, not the returned discrete time series which
merely samples the underlying interpolant.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><strong>ts</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">Pandas.DataFrame</span></code></span></dt><dd><p>Series to be interpolated, typically with period index and assuming time stamps at beginning
of the period</p>
</dd>
<dt><strong>dest</strong><span class="classifier">a pandas freq code (e.g. ‘16min’ or ‘D’) or a DateTimeIndex</span></dt><dd></dd>
<dt><strong>p</strong><span class="classifier">float, optional</span></dt><dd><p>Spline tension, usually between 0 and 20. Must &gt;-1. For a ‘sufficiently large’ value of p, the interpolant will be monotonicity-preserving and will maintain strict positivity (always being strictly &gt; <cite>lowbound</cite>.</p>
</dd>
<dt><strong>lowbound</strong><span class="classifier">float, optional</span></dt><dd><p>Lower bound of interpolated values.</p>
</dd>
<dt><strong>tolbound</strong><span class="classifier">float, optional</span></dt><dd><p>Tolerance for determining if an input is on the bound.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl>
<dt><strong>result</strong><span class="classifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></dt><dd><p>A regular time series with same columns as ts, populated with instantaneous values and with
an index of type DateTimeIndex</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="vtools.functions.rhist.tridiagonal">
<code class="sig-name descname">tridiagonal</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">b</em>, <em class="sig-param">c</em>, <em class="sig-param">d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vtools/functions/rhist.html#tridiagonal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#vtools.functions.rhist.tridiagonal" title="Permalink to this definition">¶</a></dt>
<dd><p>a is the lower band (with leading zero)
b is the center diagonal (length == nrow)
c is upper band (trailing zero)
d is right hand side</p>
</dd></dl>

</div>
<div class="section" id="vtools-functions-skill-metrics-module">
<h2>vtools.functions.skill_metrics module<a class="headerlink" href="#vtools-functions-skill-metrics-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="vtools-functions-test-error-detect-module">
<h2>vtools.functions.test_error_detect module<a class="headerlink" href="#vtools-functions-test-error-detect-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="vtools-functions-test-filter-module">
<h2>vtools.functions.test_filter module<a class="headerlink" href="#vtools-functions-test-filter-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-vtools.functions">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-vtools.functions" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/dwrsmall.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">vtools.functions package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#vtools-functions-error-detect-module">vtools.functions.error_detect module</a></li>
<li><a class="reference internal" href="#module-vtools.functions.example">vtools.functions.example module</a></li>
<li><a class="reference internal" href="#module-vtools.functions.example2">vtools.functions.example2 module</a></li>
<li><a class="reference internal" href="#module-vtools.functions.filter">vtools.functions.filter module</a></li>
<li><a class="reference internal" href="#vtools-functions-interpolate-module">vtools.functions.interpolate module</a></li>
<li><a class="reference internal" href="#module-vtools.functions.merge">vtools.functions.merge module</a></li>
<li><a class="reference internal" href="#vtools-functions-mspline-module">vtools.functions.mspline module</a></li>
<li><a class="reference internal" href="#vtools-functions-period-op-module">vtools.functions.period_op module</a></li>
<li><a class="reference internal" href="#vtools-functions-regression-test-module">vtools.functions.regression_test module</a></li>
<li><a class="reference internal" href="#module-vtools.functions.rhist">vtools.functions.rhist module</a></li>
<li><a class="reference internal" href="#vtools-functions-skill-metrics-module">vtools.functions.skill_metrics module</a></li>
<li><a class="reference internal" href="#vtools-functions-test-error-detect-module">vtools.functions.test_error_detect module</a></li>
<li><a class="reference internal" href="#vtools-functions-test-filter-module">vtools.functions.test_filter module</a></li>
<li><a class="reference internal" href="#module-vtools.functions">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="vtools.datastore.html"
                        title="previous chapter">vtools.datastore package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contributing.html"
                        title="next chapter">Contributing</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/vtools.functions.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contributing.html" title="Contributing"
             >next</a> |</li>
        <li class="right" >
          <a href="vtools.datastore.html" title="vtools.datastore package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">vtools 3.0.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >vtools</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, California Department of Water Resources.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>